---
title: "Project proposal"
author: "ADA"
output: github_document
---

```{r load-packages, message = FALSE}
#install packages 
## install.packages(c("janitor", "skimr"))
## install.packages(c("tidyverse", "broom"))
library(tidyverse)
library(broom)
library(skimr)
## Add any additional packages you are using here
```

## 1. Introduction

Our project explores trends in the popularity of various social media platforms among U.S. adults over time. The research question guiding this analysis is: *How has social media usage evolved from 2012-2024, and what patterns can be sen acros different platforms?* By examining changes in user engagement across platforms like YouTube, Facebook, Instagram, TikTok, Reddit, and others, this project aims to understand how digital behaviors and communication preferences have shifted over the past decade.

The data set used for this project was obtained from ____. The data was collected through **nationally representative surveys** of U.S. adults, asking what social media platforms they use. Each row represents survey results for a specific *year*, while the columns correspond to the **percentage of U.S. adult who reported using each platform.** This dataset provides us with a clear basis for a quantitative analysis of social media trends, allowing for comparisons across years and platforms to identify long-term evolution in digitial media engagement.


## 2. Data

Text goes here. Place your data in the /data folder, and add dimensions and codebook to the README in that folder. Then print out the output of glimpse() or skim() of your data frame.

```{r}
# Code goes here
# Read in your data file
setwd("/cloud/project/proposal")
library(readr)
social <- read_csv("../data/which_social_media_platforms_are_most_popular_data_2024-11-13.csv", skip = 2, n_max = 17)

demographic <- read_csv("../data/social_media_usage_among_demographic_groups - Sheet1 (1).csv", skip = 1)

# Print the output of glimpse() or skim()
glimpse(demographic)
skim(demographic)


```

## 3. Data analysis plan

The variables that we will visualize to explore our research questions are:
- `gender`, will be created through defining the specific gender
- `race`, will be created by defining the specific race
- `year` (2012-2024)
- `platform` (%), will be created through defining the specific social media platform
- `group`

Other data needed:
- Engagement data (i.e. average time spent, purpose of use)
- Regional data to assess geographic patterns
This would give us more context about why certain groups prefer specific platforms.

- Very preliminary exploratory data analysis, including some summary statistics and visualizations, along with some explanation on how they help you learn more about your data. (You can add to these later as you work on your project.)



The types of visualizations we want to use: 
- Bar Chart – to compare platform usage across `group`
- Stacked Bar Chart – to show the overall distribution of platform use by `gender` or `race`
- Heatmap – to visualize the correlation between `group` and `platform` popularity
- Trend Line Chart - to show how `platform` popularity changes over time

## Clean the demographic data to take out percentages
```{r clean-demographic}
demographic_clean <- demographic %>%
  mutate(across(where(is.character), ~ as.numeric(gsub("%", "", .))))
```


```{r }
# Code to calculate summary statistics
## summary_stats <- demographic_clean %>%
##   group_by(Group) %>%
##  summarise(
##    Facebook_mean = mean(Facebook, na.rm = TRUE),
##    Instagram_mean = mean(Instagram, na.rm = TRUE),
##    TikTok_mean = mean(TikTok, na.rm = TRUE)
##  ) %>%

##print(summary_stats)
```


# Draft bar chart for specific platform usage by demographic use

```{r platform-usage-by-group}
# Code for a visualization

## data_long <- demographic %>%
##  pivot_longer(cols = c(Instagram, TikTok),
##               values_to = "Percent_Using")

##data_long <- data_long %>%
##  mutate(Percent_Using = as.numeric(gsub("%", "", Percent_Using)))

##ggplot(data_long, aes(x = Percent_Using, y = Group, fill = Platform)) +
##  geom_col(position = "dodge") +
##  scale_x_continuous(labels = function(x) paste0(x, "%"),
##                     limits = c(0, 100),
##                     breaks = seq(0, 100, by = 10)) + 
##  labs(title = "Social Media Usage by Age Group",
##       x = "Percentage Using Platform",
##       y = "Demographic Group") +
##  theme_minimal()

```
This chart helps answer key exploratory questions like:
- Which demographic groups prefer which social media platforms?
- Are there clear differences in usage patterns by race or gender?

Graph for Figure 2
```{r}
#ggplot(df_long, aes(x = Platform, y = Usage, group = Group)) + geom_col(aes(fill = Group), position = position_dodge(width = 0.8), width = 0.55, alpha = 0.85) + geom_line(aes(color = Group), linewidth = 1.4, position = position_dodge(width = 0.8), lineend = "round") + geom_point(aes(color = Group), size = 4, position = position_dodge(width = 0.8)) + scale_fill_manual(values = c("Men" = cb_blue, "Women" = cb_pink)) + scale_color_manual(values = c("Men" = cb_blue, "Women" = cb_pink)) + labs( title = "Social Media Usage by Gender", x = "", y = "%") + theme_minimal(base_size = 16) + theme( plot.title = element_text(face = "bold", hjust = 0.5), axis.text.x = element_text(angle = 40, hjust = 1), legend.position = "top")
###
```

